<% include partials/header.ejs %>

    <script>
        /**
         * Restricted access function
         *
         * If user is logged in, it does nothing
         * if user is not logged in, then it redirects back to home page.
         */
        firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
                console.log('Stay in this page');
                window.location = '/';
            } else {
                console.log('Redirect!!! you cant see this page');
                // window.location = '/';
            }
        });
    </script>
    <body>
        <div class="container">
            <h2>Login</h2>

            <label for="email"><b>Email</b></label>
            <input type="text" placeholder="Enter Username" id="email-l" name="email" required>

            <label for="psw"><b>Password</b></label>
            <input type="password" placeholder="Enter Password" id="password-l" name="password" required>

            <button type="submit" onclick="login()">Login</button>
            <label>
                <input type="checkbox" checked="checked" name="remember"> Remember me
            </label>
        </div>
        <div id="reg">
            <h2>Register</h2>
            <a href="/register">Register</a>
        </div>
        <script src="../public/js/firebase.js"></script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDo7wxdGNUFPvlB2U2Y3xKF11QNxsCIytk&callback=initMap"></script>
    </body>
</html>